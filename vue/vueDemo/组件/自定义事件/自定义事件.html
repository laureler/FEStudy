<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>自定义事件</title>
</head>

<body>
<div id="app">
    <p>{{total}}</p>
    <child v-on:test="caculateTotal"></child>
    <child v-on:test="caculateTotal"></child>
</div>
<script src="../../../resource/vue.js"></script>
<!--
    引用组件的时候 显示的绑定了方法 v-on:test = 'caculateTotal'
    组件模板中便可以使用
-->
<script>
    let component1 = {
      template :`<button v-on:click="caculateNumber">{{counter}}</button>`,
      prop:{
        counter :{
          default:0,
          type:Number
        }
      },
      data:function () {
        return {
          counter:0
        }
      },
      methods:{
        caculateNumber:function () {
          this.counter += 1;
          this.$emit('test')
        }
      }
    }
    let vm = new Vue({
      el:"#app",
      data:{
        total:0
      },
      methods:{
        caculateTotal : function () {
          this.total += 1;
        }
      },
      components:{
        'child':component1,
        /*'child2':component2*/
      }
    })
</script>
</body>
</html>