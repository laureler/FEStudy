/*时间控件*/
/*事件的话 先使用change事件试试*/
var timePicker={eve:[],init:function(){for(var a=this,b=$(".Wdate"),c=0,d=b.length;c<d;c++)b[c].getAttribute("required")&&this.Input($(b[c]));c=0;for(d=this.eve.length;c<d;c++)if(this.eve[c].dom.setAttribute("data-fun",c),!this.eve[c].dom.getAttribute("required"))$(this.eve[c].dom).on("input",function(b){a.extraHandler($(this))})},Input:function(a){this.validate(a);a.on("input",this.inputHandler)},addEvent:function(a,b){this.eve.push({dom:a,fun:b})},validate:function(a){if(""==a.val()||null==a.val())a.attr("data-mes","\u8be5\u9879\u4e3a\u5fc5\u586b\u9879"),a.attr("old-value",a.val()),a.addClass("textbox-invalid-important"),a.nsTooltip("show");else{a.removeClass("textbox-invalid-important");a.nsTooltip("remove");var b=a.attr("data-fun");if(b)try{void 0!=a.attr("old-value")?a.attr("old-value")!=a.val()&&(a.attr("old-value",a.val()),this.eve[parseInt(b)]&&this.eve[parseInt(b)].fun(a)):(a.attr("old-value",a.val()),this.eve[parseInt(b)]&&this.eve[parseInt(b)].fun(a))}catch(c){console.error(c)}}},inputHandler:function(a){timePicker.validate($(a.target));$(a.target).nsTooltip("focus")},extraHandler:function(a){if(a.attr("required"))timePicker.validate(a),a.nsTooltip("focus");else{var b=a.attr("data-fun");if(b)try{void 0!=a.attr("old-value")?a.attr("old-value")!=a.val()&&(a.attr("old-value",a.val()),this.eve[parseInt(b)]&&this.eve[parseInt(b)].fun(a)):(a.attr("old-value",a.val()),this.eve[parseInt(b)]&&this.eve[parseInt(b)].fun(a))}catch(c){console.error(c)}}}};loadControl.addEvent(timePicker,timePicker.init);
//# sourceMappingURL=timeBox.min.js.map
