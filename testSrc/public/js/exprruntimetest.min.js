var myDate=new Date,fullYear=myDate.getFullYear().toString(),year=myDate.getYear().toString(),year=2<year.length?year.substr(1):year,month=myDate.getMonth()+1,fullMonth=10>month?"0"+month:month.toString(),month=month.toString(),day=myDate.getDate(),fullDay=10>day?"0"+day:day.toString(),day=day.toString();function nowStr(){return(new Date).Format("yyyy-MM-dd HH:mm:ss")}var parseDate=function(a){if("number"==typeof srcDate)a=new Date(srcDate);else if(srcDate instanceof Date)a=srcDate;else{a=srcDate+"";0<a.indexOf("\u5e74")&&(a=a.replace("\u5e74","-").replace("\u6708","-").replace("\u65e5"," "));0<a.indexOf("\u5206")&&(a=a.replace("\u65f6",":").replace("\u70b9",":").replace("\u5206",":").replace("\u79d2",""));var b=0;for(a=a.replace(/\u25cb/g,"\u3007");0<=(b=a.indexOf("\u5341",b));){if(b+1==a.length()){a+="\u3007";break}_isCNumber(a.charAt(b+1))||(a=a.substring(0,b+1)+"\u3007"+a.substring(b+1));0==b?(a="\u4e00"+a,++b):"\u3007"==a.charAt(b-1)?a=a.substring(0,b-1)+"\u4e00"+a.substring(b):_isCNumber(a.charAt(b-1))||(a=a.substring(0,b)+"\u4e00"+a.substring(b));++b}a=a.replace(/\u5341/g,"");for(b=0;0<=(b=a.indexOf("\u5eff",b));){if(b+1==a.length()){a+="\u3007";break}_isCNumber(a.charAt(b+1))||(a=a.substring(0,b+1)+"\u3007"+a.substring(b+1));++b}a=a.replace(/\u5eff/g,"\u4e8c");for(b=0;0<=(b=a.indexOf("\u5345",b));){if(b+1==a.length()){a+="\u3007";break}_isCNumber(a.charAt(b+1))||(a=a.substring(0,b+1)+"\u3007"+a.substring(b+1));++b}a=a.replace(/\u5345/g,"\u4e09");a=a.replace(/\u3007/g,"0").replace(/\u4e00/g,"1").replace(/\u4e8c/g,"2").replace(/\u4e09/g,"3").replace(/\u56db/g,"4").replace(/\u4e94/g,"5").replace(/\u516d/g,"6").replace(/\u4e03/g,"7").replace(/\u516b/g,"8").replace(/\u4e5d/g,"9");0<a.indexOf("-")||0<a.indexOf("/")?a=new Date(a):4==a.length?a=new Date(a):6==a.length?(a=a.substring(0,4)+"-"+a.substring(4),a=new Date(a)):8==a.length?(a=a.substring(0,4)+"-"+a.substring(4,6)+"-"+a.substring(6),a=new Date(a)):14==a.length?(b=a.substring(0,8),a=a.substring(8),a=b.substring(0,4)+"-"+b.substring(4,6)+"-"+b.substring(6)+" "+a.substring(0,2)+":"+a.substring(2,4)+":"+a.substring(4),a=new Date(a)):a=new Date(parseInt(a))}if(null==a||isNaN(a.getTime()))showError(srcDate+"\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u65e0\u6cd5\u8f6c\u5316\u6210\u65e5\u671f\u503c"),a=null;return a};function form(){this._mapField={};this.getFieldValue=function(a){return"11"};this.getFieldDicText=function(a){return"11"};this.setFieldValue=function(a,b){this._mapField[a]=b};this.setFieldDicText=function(a,b){this._mapField[a]=b};this.getFormData=function(){return{"JOB_A.F1":"11","JOB_A.F2":"abc"}};this.getFieldNames=function(){return["JOB_A.F1","JOB_A.F2"]};this.getBusinessno=function(){return"20170101001"}}function workflow(){this.getStep=function(a){return{id:"00198904-f843-11e7-8e0d-005056b81d36",surplusDate:0,duDate:1515835230825,countersign:!1,accumulateTime:0,formTemplateId:"da765eee-45f3-483e-b373-489345760d8b",checkingBeforeCompleted:"",visiableFollowWorkMen:[],automaticCommit:!1,automaticClaim:!1,completePartialSubmit:!1,processInstanceId:"001961d8-f843-11e7-8e0d-005056b81d36",showingCompletingDialog:!1,processFinished:!1,processRefundable:!1,computingWorkload:!1,masterTaskCount:1,normalTaskCount:0,linkDefinitionKey:"task2073918",forceClaimPeoples:[],countersignIsPass:!1,createTime:151583523E4,executionId:"001961d8-f843-11e7-8e0d-005056b81d36",winthdrad:!1,childProcess:[],processDefinitionId:"b32012af-f813-11e7-8495-005056b81d36",maxTimelimit:0,visiableMen:[],masterMen:["f4f4412c-7c2b-4f12-a69e-1a1bb210f1b7"],normalMen:[],applaySuspended:0,autoCompleteDateTime:0x7fffffffffffffff}};this.save=function(){}}function Organization(){this.getUserName=function(){return"\u7ba1\u7406\u5458"};this.getFullName=function(a){return"\u5355\u4f4d/\u90e8\u95e8/\u5c97\u4f4d/\u4eba\u5458"};this.getAllUser=function(a){return[{status:1,organDescription:"",sortValue:0,organType:10,organName:"\u5f20\u4e09",organCode:"",mdistrict:"",parentId:"daa2fcca-5c0a-4d88-85d1-6e43f710bfff",rid:"09434cda-2398-45bd-80d7-4fd3c8c46939"},{status:1,children:[],organDescription:"",sortValue:0,organType:10,organName:"\u674e\u56db",organCode:"",mdistrict:"",parentId:"61c8ddb1-46b7-4aec-a36e-839796cb4ad0",rid:"d8e431c6-fcb1-4031-9fb9-395d3ab3057b"}]};this.getOrganInfo=function(a){return{status:1,organDescription:"",sortValue:0,organType:10,organName:"\u5f20\u4e09",organCode:"",mdistrict:"",parentId:"daa2fcca-5c0a-4d88-85d1-6e43f710bfff",rid:"09434cda-2398-45bd-80d7-4fd3c8c46939"}};this.getOrganInfoByCode=function(a){return{status:1,organDescription:"",sortValue:0,organType:10,organName:"\u5f20\u4e09",organCode:"",mdistrict:"",parentId:"daa2fcca-5c0a-4d88-85d1-6e43f710bfff",rid:"09434cda-2398-45bd-80d7-4fd3c8c46939"}};this.getOrganInfoByName=function(a){return{status:1,organDescription:"",sortValue:0,organType:10,organName:"\u5f20\u4e09",organCode:"",mdistrict:"",parentId:"daa2fcca-5c0a-4d88-85d1-6e43f710bfff",rid:"09434cda-2398-45bd-80d7-4fd3c8c46939"}};this.getOwnerDept=function(a){return{status:1,organDescription:"\u4e8c\u7ea7\u5355\u4f4d",sortValue:0,organType:0,organName:"\u82b1\u90fd\u533a\u5206\u5c40",organCode:"",mdistrict:"",parentId:"1df42869-2c23-4b45-859a-d2e47b055c30",rid:"e2c7ae45-cd71-4b20-b03e-6dbb0193b032"}};this.getFirstPost=function(a){return{status:1,organDescription:"",sortValue:0,organType:1,organName:"\u529e\u4e8b\u5458",organCode:"",mdistrict:"",parentId:"e2c7ae45-cd71-4b20-b03e-6dbb0193b032",rid:"daa2fcca-5c0a-4d88-85d1-6e43f710bfff"}};this.getAllPost=function(a){return[{status:1,organDescription:"",sortValue:0,organType:1,organName:"\u529e\u4e8b\u5458",organCode:"",mdistrict:"",parentId:"e2c7ae45-cd71-4b20-b03e-6dbb0193b032",rid:"daa2fcca-5c0a-4d88-85d1-6e43f710bfff"}]};this.isRole=function(a,b){return!0};this.isInclude=function(a,b){return!0}}var adminDivisions=function(a){return[{C:"440000",A:"\u7ca4",F:"\u5e7f\u4e1c\u7701",L:"1",S:"44"},{C:"440100",A:"\u7a57",F:"\u5e7f\u5dde\u5e02",L:"2",S:"4401"},{C:"440101",A:"",F:"\u53bf\u4ee3\u7801-440101",L:"",S:""}]},codeDict=function(a,b){return[{code:"4400006001",sortValue:1,catalogId:"56165dda-988f-48d3-a40e-21604dc28298",showValue:"\u6b63\u5f0f\u9879\u76ee",rid:"6378ce88-df05-11e7-a395-d00de043d937"}]},sysKey=function(a,b){return"\u914d\u7f6e\u503c"},createNum=function(a,b){return 123},buildNo=function(a){return"(2010)12345\u53f7"},execsql=function(a,b,f,c,d,e,g){return{sql1:null,sql2:null,sql3:null}},execproc=function(a,b,f,c){a={};for(var d in c)b=c[d],a[d]="varchar"==b?"abc":"clob"==b?"abc big":"int"==b?123:"long"==b?123890:"double"==b?123.45:"decimal"==b?1234.5678:"datetime"==b?(new Date).getTime():"blob"==b?"AAECAwQFBgcICQ\x3d\x3d":"cursor"==b?[{field1:"text",field2:123}]:null;return a},batchsql=function(a,b){for(var f=[],c=0;c<b.length;++c){for(var d=[],e=b[c].param,g=0;g<e.length;++g)d.push([{field1:"text",field2:123},{field1:"text",field2:456}]);f.push(d)}return f},batchcud=function(a,b){for(var f=[],c=0;c<b.length;++c){for(var d=[],e=b[c].param,g=0;g<e.length;++g)d.push(1);f.push(d)}return f};function client(){this.rootWindow=window.parent;this.currentValue=this.currentFieldName=""}function printMsg(a){console.log(a)}jQuery.extend({Y:fullYear,y:year,M:fullMonth,m:month,D:fullDay,d:day,nowStr:nowStr,F:new form,W:new workflow,O:new Organization,C:codeDict,X:adminDivisions,N:createNum,S:sysKey,UID:"1234-ab-cd-89-123456",Data:{},execsql:execsql,execproc:execproc,batchsql:batchsql,batchcud:batchcud,client:new client,buildNo:buildNo,print:printMsg,parseDate:parseDate});function DebugExpr(a,b,f,c){if(!b)return null;c||(c="");var d=null;if(a)$.ajax({url:"/workflowWebService/debugexpr?jid\x3d"+c,type:"post",data:b,dataType:"text",async:!1,contentType:"application/json;charset\x3dutf-8",success:function(a){showSuccess(a,"\u8868\u8fbe\u5f0f\u6267\u884c\u6b63\u786e\uff0c\u8fd4\u56de\u7ed3\u679c\uff1a")},error:function(a,b,c){d=analyseError(a.responseText)}});else{a=b;b=!0;if(f&&(a=_InsertBreakPoint(a),c)){b=!1;f="/workflowWebService/debugexprForm?jid\x3d"+c;for(var e=window;e!=window.top&&!e.addTap;)e=e.parent;var g=null;if(e.addTap){c="expr"+c;if(g=e.findTapWindow(c))g.expr="";e.addTap(null,{moduleId:c,name:"\u8868\u8fbe\u5f0f\u8c03\u8bd5",pageUrl:f});g=e.findTapWindow(c)}else g=window.open(f,"_blank");g.expr=a}if(b)try{var k=eval(a);showSuccess(k,"\u8868\u8fbe\u5f0f\u6267\u884c\u6b63\u786e\uff0c\u8fd4\u56de\u7ed3\u679c\uff1a")}catch(h){d=h}}return d}function _InsertBreakPoint(a){var b=a.indexOf("//@ sourceURL");if(0>b)b=(new Date).getTime().toString(),a="//@ sourceURL\x3dexpr"+b.substr(b.length-8)+".js\ndebugger;\n"+a;else{for(b+=12;a.length>b&&"\r"!=a.charAt(b)&&"\n"!=a.charAt(b);)++b;for(++b;a.length>b&&("\r"==a.charAt(b)||"\n"==a.charAt(b));)++b;b>a.length&&(b=a.length);a=a.substr(0,b)+"debugger;\n"+a.substr(b)}return a};
//# sourceMappingURL=exprruntimetest.min.js.map
