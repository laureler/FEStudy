jQuery.extend({createUploadIframe:function(a,c){var b="jUploadFrame"+a;if(window.ActiveXObject){var d=document.createElement('\x3ciframe id\x3d"'+b+'" name\x3d"'+b+'" /\x3e');"boolean"==typeof c?d.src="javascript:false":"string"==typeof c&&(d.src=c)}else d=document.createElement("iframe"),d.id=b,d.name=b;d.style.position="absolute";d.style.top="-1000px";d.style.left="-1000px";document.body.appendChild(d);return d},createUploadForm:function(a,c){var b="jUploadForm"+a,d="jUploadFile"+a,b=$('\x3cform  action\x3d"" method\x3d"POST" name\x3d"'+b+'" id\x3d"'+b+'" enctype\x3d"multipart/form-data"\x3e\x3c/form\x3e'),g=$("#"+c),e=$(g).clone();$(g).attr("id",d);$(g).before(e);$(g).appendTo(b);$(b).css("position","absolute");$(b).css("top","-1200px");$(b).css("left","-1200px");$(b).appendTo("body");return b},ajaxFileUpload:function(a){a=jQuery.extend({},jQuery.ajaxSettings,a);var c=a.fileElementId,b=jQuery.createUploadForm(c,a.fileElementId);jQuery.createUploadIframe(c,a.secureuri);var d="jUploadFrame"+c,c="jUploadForm"+c;a.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var g=!1,e={};a.global&&jQuery.event.trigger("ajaxSend",[e,a]);var l=function(c){var f=document.getElementById(d);try{f.contentWindow?(e.responseText=f.contentWindow.document.body?f.contentWindow.document.body.innerHTML:null,e.responseXML=f.contentWindow.document.XMLDocument?f.contentWindow.document.XMLDocument:f.contentWindow.document):f.contentDocument&&(e.responseText=f.contentDocument.document.body?f.contentDocument.document.body.innerHTML:null,e.responseXML=f.contentDocument.document.XMLDocument?f.contentDocument.document.XMLDocument:f.contentDocument.document)}catch(k){jQuery.handleError(a,e,null,k)}if(e||"timeout"==c){g=!0;var h;try{if(h="timeout"!=c?"success":"error","error"!=h){var l=jQuery.uploadHttpData(e,a.dataType);a.success&&a.success(l,h);a.global&&jQuery.event.trigger("ajaxSuccess",[e,a])}else jQuery.handleError(a,e,h)}catch(k){h="error",jQuery.handleError(a,e,h,k)}a.global&&jQuery.event.trigger("ajaxComplete",[e,a]);a.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop");a.complete&&a.complete(e,h);jQuery(f).unbind();setTimeout(function(){try{$(f).remove(),$(b).remove()}catch(k){jQuery.handleError(a,e,null,k)}},100);e=null}};0<a.timeout&&setTimeout(function(){g||l("timeout")},a.timeout);try{b=$("#"+c),$(b).attr("action",a.url),$(b).attr("method","POST"),$(b).attr("target",d),b.encoding?b.encoding="multipart/form-data":b.enctype="multipart/form-data",$(b).submit()}catch(m){jQuery.handleError(a,e,null,m)}window.attachEvent?document.getElementById(d).attachEvent("onload",l):document.getElementById(d).addEventListener("load",l,!1);return{abort:function(){}}},handleError:function(a,c,b,d){a.error&&a.error.call(a.context||a,c,b,d);a.global&&(a.context?jQuery(a.context):jQuery.event).trigger("ajaxError",[c,a,d])},uploadHttpData:function(a,c){var b=c&&"xml"!=c?a.responseText:a.responseXML;"script"==c&&jQuery.globalEval(b);if("json"==c){if((b=jQuery.trim(b))&&"\x3c"==b.charAt(0)){var d=b.indexOf("\x3e")+1;if(0<d){var g=b.indexOf("\x3c",d);0>g&&(g=b.length);b=b.substring(d,g)}else b=null}b&&(b=eval(b))}"html"==c&&jQuery("\x3cdiv\x3e").html(b).evalScripts();return b}});
//# sourceMappingURL=ajaxfileupload.min.js.map
