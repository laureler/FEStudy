/**
 * 通用的表单选择
 * 1、列表信息，显示表单名称的Title,版本号Vernum
 * 2、isSingle是单选(true)或多选(false)
 * 		initForms：初始选择的表单ID数组
 * 		innerContId：要内嵌界面的容器ID。如果为空，则以弹出框显示；否则将界面显示在容器中
 * 		resultFun：选择结果回调方法，原型：function (resultdata)
 * 	返回resultdata是对象数组，每个元素包含属性：id表单唯一的Id, title表单名称
 * 3、支持对表单名称进行查询
*/

//上次用于选择控件的表单ID，如果当前表单ID与上次相同，则不会重新初始化，提升性能。
var cacheFormid9lse4="",getAllFormInfosUrl9lse4="/formengineWebService/getAllFormTree";function FormObjectSelector(f,d,a,b){var h=this;this.initItem=function(b){for(var a=$("#commSelectorListUl9lse4"),c=a.tree("getChecked"),e=0;e<c.length;e++)a.tree("uncheck",c[e].target);if(b)for(e=0;e<b.length;e++)if(c=a.tree("find",b[e]))if(d){a.tree("select",c.target);break}else a.tree("check",c.target)};var c="",c=(b?c+'\x3cdiv id\x3d"commonFormSelector9lse4" style\x3d"width:100%;height:100%;"\x3e':c+'\x3cdiv id\x3d"commonFormSelector9lse4Box"\x3e\x3cdiv id\x3d"commonFormSelector9lse4" class\x3d"easyui-window" title\x3d"\u8bf7\u9009\u62e9\u8868\u5355" data-options\x3d"collapsible:false,modal:true,maximizable:false,minimizable:false,footer:\'#dlg-cfs-footer-btns9lse4\'" style\x3d"width:350px;height:450px;"\x3e')+'\x3cdiv style\x3d"position:relative;overflow:hidden;height:100%;"\x3e\x3cdiv style\x3d"margin:0 -1px;"\x3e\x3cinput class\x3d"easyui-searchbox" data-options\x3d"prompt:\'\u8f93\u5165\u8868\u5355\u540d\u79f0\u67e5\u8be2\',searcher:SearchFormTitle9lse4" style\x3d"width:100%;height:30px;" /\x3e\x3c/div\x3e\x3cdiv style\x3d"position:absolute;bottom:0;top:30px;width:100%;overflow-x:hidden;overflow-y:auto;"\x3e\x3cul id\x3d"commSelectorListUl9lse4" class\x3d"easyui-tree"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e',c=b?c+"\x3c/div\x3e":c+'\x3cdiv id\x3d"dlg-cfs-footer-btns9lse4" style\x3d"line-height:35px;height:35px;text-align:center;"\x3e\x3ca class\x3d"easyui-linkbutton" data-options\x3d"iconCls:\'icon-ok\'" onclick\x3d"submitFormSelector()"\x3e\u786e\u5b9a\x3c/a\x3e\x3cspan style\x3d"margin-left:30px;"\x3e\x26nbsp;\x3c/span\x3e\x3ca class\x3d"easyui-linkbutton" data-options\x3d"iconCls:\'icon-cancel\'" onclick\x3d"$(\'#commonFormSelector9lse4\').window(\'close\')"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',g=d+""+b;cacheFormid9lse4!=g||0==$("#commonFormSelector9lse4").length?(cacheFormid9lse4=g,0<$("#commonFormSelector9lse4Box").length?($("#commonFormSelector9lse4").window("destroy"),$("#commonFormSelector9lse4Box").remove()):0<$("#commonFormSelector9lse4").length&&$("#commonFormSelector9lse4").remove(),b?($("#"+b).html(c),$.parser.parse("#"+b)):($("body").append(c),$.parser.parse("#commonFormSelector9lse4Box")),$.ajax({url:getAllFormInfosUrl9lse4,type:"GET",async:!1,dataType:"json",success:function(a){$("#commSelectorListUl9lse4").tree({data:a,checkbox:!d,cascadeCheck:!1,onDblClick:function(a){d?h.submitFormSelector():a.checked?$("#commSelectorListUl9lse4").tree("uncheck",a.target):$("#commSelectorListUl9lse4").tree("check",a.target)},onLoadSuccess:function(a,b){$("#commSelectorListUl9lse4").tree("collapseAll")}})},error:function(){showError("\u83b7\u53d6\u6570\u636e\u5931\u8d25")}})):b||$("#commonFormSelector9lse4").window("open");this.initItem(f);this.submitFormSelector=function(){var c=GetSelectedForms();b||$("#commonFormSelector9lse4").window("close");a&&a(c)}}function GetSelectedForms(){var f=[],d;if($("#commSelectorListUl9lse4").tree("options").checkbox)d=$("#commSelectorListUl9lse4").tree("getChecked");else{d=[];var a=$("#commSelectorListUl9lse4").tree("getSelected");a&&d.push(a)}for(a=0;a<d.length;a++){var b={};b.id=d[a].id;b.title=d[a].text;f.push(b)}return f}var SearchFormTitle9lse4=function(f){searchTreeNode($("#commSelectorListUl9lse4"),f,!0)};
//# sourceMappingURL=FormObjectSelector.min.js.map
