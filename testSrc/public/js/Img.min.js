/**
 * 获得base64
 * @param {Object} obj
 * @param {Number} [obj.width] 图片需要压缩的宽度，高度会跟随调整
 * @param {Number} [obj.quality=0.8] 压缩质量，不压缩为1
 * @param {Function} [obj.before(this, blob, file)] 处理前函数,this指向的是input:file
 * @param {Function} obj.success(obj) 处理后函数
 *
 */
$.fn.localResizeIMG=function(d){function e(a){var c=new Image;c.src=a;c.onload=function(){var b=this.width,a=this.height,a=b/a,b=d.width||b,a=b/a,c=document.createElement("canvas"),e=c.getContext("2d");$(c).attr({width:b,height:a});e.drawImage(this,0,0,b,a);b=c.toDataURL("image/jpeg",d.quality||.8);b={base64:b,clearBase64:b.substr(b.indexOf(",")+1)};d.success(b)}}this.on("change",function(){var a=this.files[0];if(null!=a){var c=(window.URL||window.webkitURL).createObjectURL(a);$.isFunction(d.before)&&d.before(this,c,a);e(c,a)}})};
//# sourceMappingURL=Img.min.js.map
